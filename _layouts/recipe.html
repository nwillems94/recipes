---
layout: post
---

<h1>{{ page.title }}</h1>
<p>{{ content }}</p>

<label for="servings">Servings:</label>
<input type="number" id="servings" value="{{ page.servings }}" min="1" onchange="updateIngredients()">

<h2>Ingredients</h2>
<ul id="ingredientList">
  {% for ingredient in page.ingredients %}
    <li data-quantity="{{ ingredient.quantity }}" data-unit="{{ ingredient.unit }}">
      {{ ingredient.name }}: {{ ingredient.quantity }} {{ ingredient.unit }}
    </li>
  {% endfor %}
</ul>

<script>
  const defaultServings = parseFloat("{{ page.servings }}");

  function updateIngredients() {
    const newServings = parseFloat(document.getElementById('servings').value);
    document.querySelectorAll('#ingredientList li').forEach(item => {
      const baseQty = parseFloat(item.getAttribute('data-quantity'));
      const unit = item.getAttribute('data-unit');
      const name = item.textContent.split(':')[0];
      const newQty = (baseQty / defaultServings) * newServings;
      item.textContent = `${name}: ${newQty.toFixed(2)} ${unit}`;
    });
  }
</script>