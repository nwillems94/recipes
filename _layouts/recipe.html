---
layout: post
---

<h1>{{ page.title }}</h1>

<h2>Ingredients</h2>

<label for="servings">Servings:</label>
<input type="number" id="servings" value="{{ page.servings }}" min="1" onchange="updateIngredients()">

<ul id="ingredientList">
  {% for ingredient in page.ingredients %}
    <li data-quantity="{{ ingredient.quantity }}" data-unit="{{ ingredient.unit }}">
    <code>{{ ingredient.quantity }}</code> {{ ingredient.unit }} {{ ingredient.name }}
    </li>
  {% endfor %}
</ul>

<hr>

<p>{{ content }}</p>

<script>
  const defaultServings = parseFloat("{{ page.servings }}");

  function updateIngredients() {
    const newServings = parseFloat(document.getElementById('servings').value);
    document.querySelectorAll('#ingredientList li').forEach(item => {
      const baseQty = parseFloat(item.getAttribute('data-quantity'));
      const newQty = (baseQty / defaultServings) * newServings;
      item.setAttribute('data-quantity', newQty.toFixed(2));
    });
  }
</script>